# 资源文件创建指南

## 概述

本文档说明如何创建和添加 EmoFirst 所需的资源文件。

---

## 一、Lottie 动画文件

### 文件位置
`assets/animations/heart_break.json`

### 创建方法

#### 方法1：使用 After Effects + Bodymovin
1. 在 After Effects 中创建心形碎裂动画
2. 安装 Bodymovin 插件
3. 导出为 Lottie JSON 格式
4. 将文件保存到 `assets/animations/heart_break.json`

#### 方法2：使用在线工具
1. 访问 https://lottiefiles.com/
2. 创建或下载心形碎裂动画
3. 导出为 JSON 格式
4. 将文件保存到指定位置

#### 方法3：使用代码生成（临时方案）
如果暂时没有动画文件，可以使用 Flutter 动画替代：

```dart
// 在 emotion_trigger_screen.dart 中使用 AnimatedContainer
// 创建简单的心形碎裂效果
```

### 动画规格
- **时长**: 2.3秒
- **帧率**: 60fps
- **尺寸**: 150x150px
- **颜色**: #FF6B6B → #FF3838

---

## 二、音频文件

### 文件位置
`assets/audio/`

### 需要的文件列表

1. **pressure_build.mp3** - 压力积聚音效
2. **bubble_pop_1.mp3** - 泡泡破碎音效1
3. **bubble_pop_2.mp3** - 泡泡破碎音效2
4. **bubble_pop_3.mp3** - 泡泡破碎音效3
5. **wind_chime_1.mp3** - 风铃音效1
6. **wind_chime_2.mp3** - 风铃音效2
7. **fire_crackle.mp3** - 篝火星音效

### 获取方法

#### 方法1：免费音频库
- **Freesound.org**: https://freesound.org/
  - 搜索关键词：pressure build, bubble pop, wind chime, fire crackle
  - 下载后转换为MP3格式
  
- **Zapsplat**: https://www.zapsplat.com/
  - 注册免费账号
  - 下载音效文件

#### 方法2：AI生成
- **Mubert**: https://mubert.com/
- **AIVA**: https://www.aiva.ai/

#### 方法3：自己录制
- 使用手机录音
- 使用 Audacity 编辑
- 导出为 MP3 格式

### 音频规格
- **格式**: MP3
- **采样率**: 44.1kHz
- **比特率**: 128kbps
- **文件大小**: 每个文件 < 500KB

### 临时方案
如果暂时没有音频文件，代码会静默失败（已处理错误），不影响应用运行。

---

## 三、App图标

### 文件位置
`ios/Runner/Assets.xcassets/AppIcon.appiconset/`

### 设计规范
- **主元素**: 心电图 + 盾牌组合
- **颜色**: #FF6B6B (情感红色)
- **风格**: 简洁、现代、温暖

### 需要的尺寸
- 1024x1024px (App Store)
- 180x180px (iPhone主屏幕 3x)
- 120x120px (iPhone主屏幕 2x)
- 87x87px (iPhone设置 3x)
- 58x58px (iPhone设置 2x)
- 80x80px (iPhone Spotlight 2x)
- 120x120px (iPhone Spotlight 3x)
- 76x76px (iPad主屏幕 2x)
- 152x152px (iPad主屏幕 2x)
- 167x167px (iPad Pro主屏幕 2x)

### 创建工具
- **Figma**: 推荐使用
- **Sketch**: 也可以
- **在线工具**: https://www.appicon.co/

### 创建步骤
1. 设计 1024x1024px 的主图标
2. 使用工具自动生成所有尺寸
3. 将图标文件放入 `AppIcon.appiconset/` 目录
4. 在 Xcode 中验证图标显示

### 临时方案
可以使用：
- Flutter 默认图标
- 纯色背景 + 文字"EF"
- 简单的红色圆形

---

## 四、资源文件检查清单

### Lottie动画
- [ ] `assets/animations/heart_break.json` 已创建
- [ ] 动画时长：2.3秒
- [ ] 动画尺寸：150x150px
- [ ] 文件大小：< 200KB

### 音频文件
- [ ] `assets/audio/pressure_build.mp3`
- [ ] `assets/audio/bubble_pop_1.mp3`
- [ ] `assets/audio/bubble_pop_2.mp3`
- [ ] `assets/audio/bubble_pop_3.mp3`
- [ ] `assets/audio/wind_chime_1.mp3`
- [ ] `assets/audio/wind_chime_2.mp3`
- [ ] `assets/audio/fire_crackle.mp3`

### App图标
- [ ] 所有尺寸的图标已创建
- [ ] 图标已添加到 Xcode 项目
- [ ] 图标在设备上显示正常

---

## 五、验证资源文件

### 检查资源文件是否存在
```bash
# 检查动画文件
ls -lh assets/animations/heart_break.json

# 检查音频文件
ls -lh assets/audio/*.mp3

# 检查图标文件
ls -lh ios/Runner/Assets.xcassets/AppIcon.appiconset/*.png
```

### 在代码中验证
```dart
// 在 main.dart 中添加资源检查
void checkAssets() {
  // 检查动画文件
  final animationFile = File('assets/animations/heart_break.json');
  if (!animationFile.existsSync()) {
    print('⚠️  动画文件缺失');
  }
  
  // 检查音频文件
  final audioFiles = [
    'assets/audio/pressure_build.mp3',
    'assets/audio/bubble_pop_1.mp3',
    // ... 其他文件
  ];
  
  for (final file in audioFiles) {
    if (!File(file).existsSync()) {
      print('⚠️  音频文件缺失: $file');
    }
  }
}
```

---

## 六、资源文件优先级

### 必须（核心功能）
1. **Lottie动画** - 情绪启动动画的核心
2. **压力积聚音效** - 与动画同步

### 重要（完整体验）
3. **泡泡破碎音效** - 释放阶段音效选项A
4. **风铃音效** - 释放阶段音效选项B
5. **篝火星音效** - 释放阶段音效选项C

### 可选（美化）
6. **App图标** - 可以先用临时方案

---

## 七、快速开始

### 最小可用版本（MVP）
如果暂时没有所有资源文件，可以：
1. 使用 Flutter 动画替代 Lottie（临时）
2. 注释掉音频播放代码（临时）
3. 使用默认图标（临时）

这样应用仍然可以运行和测试，只是体验不完整。

---

## 八、资源文件获取链接

### 免费音频库
- Freesound: https://freesound.org/
- Zapsplat: https://www.zapsplat.com/
- Mixkit: https://mixkit.co/free-sound-effects/

### Lottie资源
- LottieFiles: https://lottiefiles.com/
- 搜索关键词：heart break, heart shatter, emotion

### 图标设计
- Figma: https://www.figma.com/
- Canva: https://www.canva.com/
- AppIcon.co: https://www.appicon.co/

---

**创建时间**: 2025-01-27
**版本**: V1.0
