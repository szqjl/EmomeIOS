# iOS æ„å»ºé—®é¢˜æ’æŸ¥æŒ‡å—

## ğŸ” å¸¸è§æ„å»ºé”™è¯¯

### 1. é€€å‡ºä»£ç  1 (Exit Code 1)

**å¯èƒ½åŸå› **ï¼š
- CocoaPods ä¾èµ–å®‰è£…å¤±è´¥
- Flutter ç‰ˆæœ¬ä¸åŒ¹é…
- iOS é¡¹ç›®ç»“æ„ä¸å®Œæ•´
- ç¼ºå°‘å¿…è¦çš„é…ç½®æ–‡ä»¶

**æ’æŸ¥æ­¥éª¤**ï¼š

1. **æŸ¥çœ‹è¯¦ç»†æ„å»ºæ—¥å¿—**
   - è¿›å…¥ GitHub Actions é¡µé¢
   - ç‚¹å‡»å¤±è´¥çš„æ„å»ºä»»åŠ¡
   - æŸ¥çœ‹æ¯ä¸ªæ­¥éª¤çš„è¯¦ç»†è¾“å‡º

2. **æ£€æŸ¥ Flutter ç‰ˆæœ¬**
   ```bash
   flutter --version
   # ç¡®ä¿ä½¿ç”¨ 3.16.0 æˆ–æ›´é«˜ç‰ˆæœ¬
   ```

3. **æ£€æŸ¥é¡¹ç›®ç»“æ„**
   - ç¡®ä¿ `ios/Podfile` å­˜åœ¨
   - ç¡®ä¿ `ios/Runner/Info.plist` å­˜åœ¨
   - ç¡®ä¿ `pubspec.yaml` é…ç½®æ­£ç¡®

---

## ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šä½¿ç”¨è°ƒè¯•å·¥ä½œæµ

å·²åˆ›å»º `ios-build-debug.yml` è°ƒè¯•å·¥ä½œæµï¼š
1. è¿›å…¥ GitHub Actions
2. é€‰æ‹© "iOS Build (Debug Mode)"
3. ç‚¹å‡» "Run workflow"
4. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

### æ–¹æ¡ˆ2ï¼šæœ¬åœ°æµ‹è¯•

åœ¨æœ¬åœ° macOS ä¸Šæµ‹è¯•æ„å»ºï¼š

```bash
cd å¼€å‘å·¥ä½œæµ
flutter pub get
cd ios
pod install
cd ..
flutter build ios --release --no-codesign
```

### æ–¹æ¡ˆ3ï¼šæ£€æŸ¥ä¾èµ–

æ£€æŸ¥ `pubspec.yaml` ä¸­çš„ä¾èµ–æ˜¯å¦å…¼å®¹ï¼š

```yaml
dependencies:
  flutter:
    sdk: flutter
  # æ£€æŸ¥æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬
```

---

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### é¡¹ç›®ç»“æ„æ£€æŸ¥
- [ ] `ios/Podfile` å­˜åœ¨
- [ ] `ios/Runner/Info.plist` å­˜åœ¨
- [ ] `ios/Runner.xcodeproj` æˆ– `ios/Runner.xcworkspace` å­˜åœ¨
- [ ] `pubspec.yaml` é…ç½®æ­£ç¡®

### ä¾èµ–æ£€æŸ¥
- [ ] `flutter pub get` æˆåŠŸ
- [ ] `pod install` æˆåŠŸ
- [ ] æ‰€æœ‰ä¾èµ–ç‰ˆæœ¬å…¼å®¹

### é…ç½®æ£€æŸ¥
- [ ] Flutter ç‰ˆæœ¬ >= 3.16.0
- [ ] iOS Deployment Target >= 14.0
- [ ] Bundle ID é…ç½®æ­£ç¡®

---

## ğŸ”§ ä¿®å¤æ­¥éª¤

### å¦‚æœç¼ºå°‘ Podfile

Flutter é¡¹ç›®é€šå¸¸ä¼šè‡ªåŠ¨ç”Ÿæˆ Podfileã€‚å¦‚æœç¼ºå¤±ï¼š

1. **ç¡®ä¿é¡¹ç›®æ˜¯å®Œæ•´çš„ Flutter é¡¹ç›®**ï¼š
   ```bash
   flutter create --platforms=ios .
   ```

2. **æˆ–è€…æ‰‹åŠ¨åˆ›å»º Podfile**ï¼š
   ```ruby
   # ios/Podfile
   platform :ios, '14.0'
   
   target 'Runner' do
     use_frameworks!
     use_modular_headers!
   
     flutter_install_all_ios_pods File.dirname(File.realpath(__FILE__))
   end
   ```

### å¦‚æœ CocoaPods å®‰è£…å¤±è´¥

```bash
# æ›´æ–° CocoaPods
sudo gem install cocoapods
pod repo update
```

### å¦‚æœæ„å»ºå¤±è´¥

1. **æ¸…ç†æ„å»ºç¼“å­˜**ï¼š
   ```bash
   flutter clean
   cd ios
   rm -rf Pods Podfile.lock
   pod install
   cd ..
   ```

2. **æ£€æŸ¥ Xcode ç‰ˆæœ¬**ï¼š
   - GitHub Actions ä½¿ç”¨æœ€æ–°çš„ Xcode
   - ç¡®ä¿ä»£ç å…¼å®¹æœ€æ–° Xcode

---

## ğŸ“Š æŸ¥çœ‹æ„å»ºæ—¥å¿—

### åœ¨ GitHub Actions ä¸­

1. è¿›å…¥ Actions é¡µé¢
2. é€‰æ‹©å¤±è´¥çš„æ„å»º
3. å±•å¼€å¤±è´¥çš„æ­¥éª¤
4. æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯

### å…³é”®é”™è¯¯ä¿¡æ¯

æŸ¥æ‰¾ä»¥ä¸‹å…³é”®è¯ï¼š
- `error:` - ç¼–è¯‘é”™è¯¯
- `warning:` - è­¦å‘Šï¼ˆå¯èƒ½å½±å“æ„å»ºï¼‰
- `pod install` - CocoaPods ç›¸å…³é”™è¯¯
- `xcodebuild` - Xcode æ„å»ºé”™è¯¯
- `Flutter` - Flutter ç›¸å…³é”™è¯¯

---

## ğŸš€ å¿«é€Ÿä¿®å¤

### æ›´æ–°å·¥ä½œæµé…ç½®

å·²æ›´æ–° `ios-build.yml`ï¼ŒåŒ…å«ï¼š
- âœ… è‡ªåŠ¨å®‰è£… CocoaPods
- âœ… æ›´å¥½çš„é”™è¯¯å¤„ç†
- âœ… è¯¦ç»†çš„æ„å»ºæ—¥å¿—

### é‡æ–°è¿è¡Œæ„å»º

1. æäº¤æ›´æ–°çš„å·¥ä½œæµæ–‡ä»¶
2. æ¨é€åˆ° GitHub
3. ç­‰å¾…è‡ªåŠ¨æ„å»º
4. æˆ–æ‰‹åŠ¨è§¦å‘æ„å»º

---

## ğŸ“ æŠ¥å‘Šé—®é¢˜

å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œè¯·æä¾›ï¼š

1. **æ„å»ºæ—¥å¿—**ï¼ˆä» GitHub Actions ä¸‹è½½ï¼‰
2. **é”™è¯¯ä¿¡æ¯**ï¼ˆå®Œæ•´çš„é”™è¯¯è¾“å‡ºï¼‰
3. **Flutter ç‰ˆæœ¬**ï¼š`flutter --version`
4. **é¡¹ç›®ç»“æ„**ï¼š`ls -la ios/`

---

**æœ€åæ›´æ–°**ï¼š2025å¹´1æœˆ15æ—¥
